var V=Object.defineProperty;var o=(r,i)=>V(r,"name",{value:i,configurable:!0});import{q as W,s as K,w as g,j as L}from"./iframe.b086399d.js";import{m as j}from"./make-decorator.e70e0396.js";var e;(function(r){r.CHANNEL_CREATED="channelCreated",r.CONFIG_ERROR="configError",r.STORY_INDEX_INVALIDATED="storyIndexInvalidated",r.STORY_SPECIFIED="storySpecified",r.SET_STORIES="setStories",r.SET_CURRENT_STORY="setCurrentStory",r.CURRENT_STORY_WAS_SET="currentStoryWasSet",r.FORCE_RE_RENDER="forceReRender",r.FORCE_REMOUNT="forceRemount",r.PRELOAD_STORIES="preloadStories",r.STORY_PREPARED="storyPrepared",r.STORY_CHANGED="storyChanged",r.STORY_UNCHANGED="storyUnchanged",r.STORY_RENDERED="storyRendered",r.STORY_MISSING="storyMissing",r.STORY_ERRORED="storyErrored",r.STORY_THREW_EXCEPTION="storyThrewException",r.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",r.UPDATE_STORY_ARGS="updateStoryArgs",r.STORY_ARGS_UPDATED="storyArgsUpdated",r.RESET_STORY_ARGS="resetStoryArgs",r.SET_GLOBALS="setGlobals",r.UPDATE_GLOBALS="updateGlobals",r.GLOBALS_UPDATED="globalsUpdated",r.REGISTER_SUBSCRIPTION="registerSubscription",r.PREVIEW_KEYDOWN="previewKeydown",r.SELECT_STORY="selectStory",r.STORIES_COLLAPSE_ALL="storiesCollapseAll",r.STORIES_EXPAND_ALL="storiesExpandAll",r.DOCS_RENDERED="docsRendered",r.SHARED_STATE_CHANGED="sharedStateChanged",r.SHARED_STATE_SET="sharedStateSet",r.NAVIGATE_URL="navigateUrl",r.UPDATE_QUERY_PARAMS="updateQueryParams"})(e||(e={}));e.CHANNEL_CREATED;e.CONFIG_ERROR;e.STORY_INDEX_INVALIDATED;e.STORY_SPECIFIED;e.SET_STORIES;e.SET_CURRENT_STORY;e.CURRENT_STORY_WAS_SET;e.FORCE_RE_RENDER;e.FORCE_REMOUNT;e.STORY_PREPARED;var z=e.STORY_CHANGED;e.STORY_UNCHANGED;e.PRELOAD_STORIES;e.STORY_RENDERED;e.STORY_MISSING;e.STORY_ERRORED;e.STORY_THREW_EXCEPTION;e.STORY_RENDER_PHASE_CHANGED;e.UPDATE_STORY_ARGS;e.STORY_ARGS_UPDATED;e.RESET_STORY_ARGS;e.SET_GLOBALS;e.UPDATE_GLOBALS;e.GLOBALS_UPDATED;e.REGISTER_SUBSCRIPTION;e.PREVIEW_KEYDOWN;var k=e.SELECT_STORY;e.STORIES_COLLAPSE_ALL;e.STORIES_EXPAND_ALL;e.DOCS_RENDERED;e.SHARED_STATE_CHANGED;e.SHARED_STATE_SET;e.NAVIGATE_URL;e.UPDATE_QUERY_PARAMS;var $={},f={};Object.defineProperty(f,"__esModule",{value:!0});f.includeConditionalArg=f.testValue=void 0;var I=X(W);function X(r){return r&&r.__esModule?r:{default:r}}o(X,"_interopRequireDefault");var P=o(function(i){return i.map(function(u){return typeof u<"u"}).filter(Boolean).length},"count"),h=o(function(i,u){var _=i,d=_.exists,E=_.eq,l=_.neq,R=_.truthy;if(P([d,E,l,R])>1)throw new Error("Invalid conditional test ".concat(JSON.stringify({exists:d,eq:E,neq:l})));if(typeof E<"u")return(0,I.default)(u,E);if(typeof l<"u")return!(0,I.default)(u,l);if(typeof d<"u"){var s=typeof u<"u";return d?s:!s}var T=typeof R>"u"?!0:R;return T?!!u:!u},"testValue");f.testValue=h;var x=o(function(i,u,_){if(!i.if)return!0;var d=i.if,E=d.arg,l=d.global;if(P([E,l])!==1)throw new Error("Invalid conditional value ".concat(JSON.stringify({arg:E,global:l})));var R=E?u[E]:_[l];return h(i.if,R)},"includeConditionalArg");f.includeConditionalArg=x;var Y={},Q={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var i=Q;Object.keys(i).forEach(function(u){u==="default"||u==="__esModule"||Object.defineProperty(r,u,{enumerable:!0,get:o(function(){return i[u]},"get")})})})(Y);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var i={sanitize:!0,toId:!0,storyNameFromExport:!0,isExportStory:!0,parseKind:!0,includeConditionalArg:!0};r.isExportStory=M,Object.defineProperty(r,"includeConditionalArg",{enumerable:!0,get:o(function(){return _.includeConditionalArg},"get")}),r.parseKind=r.storyNameFromExport=r.toId=r.sanitize=void 0;var u=E(K),_=f,d=Y;Object.keys(d).forEach(function(t){t==="default"||t==="__esModule"||Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(r,t,{enumerable:!0,get:o(function(){return d[t]},"get")})});function E(t){return t&&t.__esModule?t:{default:t}}o(E,"_interopRequireDefault");function l(t,n){return U(t)||b(t,n)||s(t,n)||R()}o(l,"_slicedToArray");function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(R,"_nonIterableRest");function s(t,n){if(!!t){if(typeof t=="string")return T(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(a);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(t,n)}}o(s,"_unsupportedIterableToArray");function T(t,n){(n==null||n>t.length)&&(n=t.length);for(var a=0,S=new Array(n);a<n;a++)S[a]=t[a];return S}o(T,"_arrayLikeToArray");function b(t,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var a=[],S=!0,A=!1,O=void 0;try{for(var c=t[Symbol.iterator](),p;!(S=(p=c.next()).done)&&(a.push(p.value),!(n&&a.length===n));S=!0);}catch(y){A=!0,O=y}finally{try{!S&&c.return!=null&&c.return()}finally{if(A)throw O}}return a}}o(b,"_iterableToArrayLimit");function U(t){if(Array.isArray(t))return t}o(U,"_arrayWithHoles");var C=o(function(n){return n.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},"sanitize");r.sanitize=C;var N=o(function(n,a){var S=C(n);if(S==="")throw new Error("Invalid ".concat(a," '").concat(n,"', must include alphanumeric characters"));return S},"sanitizeSafe"),w=o(function(n,a){return"".concat(N(n,"kind")).concat(a?"--".concat(N(a,"name")):"")},"toId");r.toId=w;var H=o(function(n){return(0,u.default)(n)},"storyNameFromExport");r.storyNameFromExport=H;function m(t,n){return Array.isArray(n)?n.includes(t):t.match(n)}o(m,"matches");function M(t,n){var a=n.includeStories,S=n.excludeStories;return t!=="__esModule"&&(!a||m(t,a))&&(!S||!m(t,S))}o(M,"isExportStory");var F=o(function(n,a){var S=a.rootSeparator,A=a.groupSeparator,O=n.split(S,2),c=l(O,2),p=c[0],y=c[1],B=(y||n).split(A).filter(function(q){return!!q});return{root:y?p:null,groups:B}},"parseKind");r.parseKind=F})($);var J="links",v=g.document,Z=g.HTMLElement,rr=o(function(i){return L.getChannel().emit(k,i)},"navigate"),G=o(function(i){var u=i.target;if(u instanceof Z){var _=u,d=_.dataset,E=d.sbKind,l=d.sbStory;(E||l)&&(i.preventDefault(),rr({kind:E,story:l}))}},"linksListener"),D=!1,tr=o(function(){D||(D=!0,v.addEventListener("click",G))},"on"),er=o(function(){D&&(D=!1,v.removeEventListener("click",G))},"off"),nr=j({name:"withLinks",parameterName:J,wrapper:o(function(i,u){return tr(),L.getChannel().once(z,er),i(u)},"wrapper")});module&&module.hot&&module.hot.decline&&module.hot.decline();var ur=[nr];export{ur as decorators};
//# sourceMappingURL=preview.8a4094d0.js.map
